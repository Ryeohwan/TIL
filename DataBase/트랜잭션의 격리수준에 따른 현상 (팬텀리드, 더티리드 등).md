# 트랜잭션의 격리수준에 따른 현상 (팬텀리드, 더티리드 등)

## 팬텀리드(phantom reads)
한 트랜잭션 내에서 동일한 쿼리를 2번 이상 보냈을 때 해당 조회 결과가 다름....(행 수가 다름)

![2](<https://user-images.githubusercontent.com/73810834/210350370-c18c91a8-2b65-4849-ac21-768589f4e152.png>)

사진을 보면 한 트랜잭션에서 사이즈를 읽어오고 나서 

다른 트랜잭션에서 write해서 추가하니까 

기존 트랜잭션에서 이후의 사이즈에서 값을 확인했더니 사이즈가 하나 더 커져 있더라...

<br>

## 반복 가능하지 않은 조회(Nonrepeatable Reads)
한 트랜잭션 내의 같은 행에 두 번 이상 조회가 발생했는데 그 값이 다른 것을 말한다.(내용이 다름)

![3](<https://user-images.githubusercontent.com/73810834/210350990-8f7161aa-4f52-44dc-bdf9-272973d02032.png>)

<br>

## 더티 리드(Dirty Reads)
하나의 트랜잭션이 다른 트랜잭션의 아직 커밋되지 않은 데이터를 읽는 현상.
T1이 업데이트 이후 롤백을 했는데도 불구. (그러면 커밋되지 않은 데이터가 됨) T2는 이미 커밋이 되었다라고 판단하게 됨.

![4](<https://user-images.githubusercontent.com/73810834/210351344-ee93e914-46c9-4114-b58a-82d50df88212.png>)

# 트랜잭션의 격리수준(Serializable, Repeatable_Read 등)

## Serializable
커밋 완료된 데이터에 대해서만 조회할 수 있으며 트랜잭션을 순차적으로 진행시키는 것, 여러 트랜잭션이 동시에 같은 행에 접근할 수 없습니다.

## Repeatable_Read
커밋 완료된 데이터에 대해서만 조회할 수 있으며 반복해서 행을 조회하더라도 똑같은 행을 보장하는 단계입니다.

하나의 트랜잭션이 수정한 행을 다른 트랜잭션이 수정할 수 없도록 막아주지만 새로운 행을 추가하는 것은 막지 않음.

따라서 똑같은 범위 퀴리를 실행했을 때 이후에 추가된 행이 발견될 수 있음.

- 팬텀리드가 발생 가능

## Read_Commited
